!function(e) {
    function n(i) {
        if (t[i])
            return t[i].exports;
        var o = t[i] = {
            exports: {},
            id: i,
            loaded: !1
        };
        return e[i].call(o.exports, o, o.exports, n),
        o.loaded = !0,
        o.exports
    }
    var t = {};
    return n.m = e,
    n.c = t,
    n.p = "",
    n(0)
}({
    0: function(e, n, t) {
        e.exports = t(74)
    },
    2: function(e, n, t) {
        var i = t(3)
          , o = t(7)
          , a = {
            isLoginStatus: "",
            init: function(e) {
                if (this.isLogin(),
                this.myOrderLoginEvent(),
                "pay" == e)
                    return $("header.header .mobile-nav").hide(),
                    void $("header.header").css("padding-bottom", ".07rem");
                $("header.header li." + e).addClass("active").siblings().removeClass("active"),
                $("header.header li.course.activity").on("mouseover", function() {
                    $("#course-bar").fadeIn(200)
                }).on("mouseleave", function() {
                    $("#course-bar").hide()
                }),
                $("header.header li.ventureservice.gift").on("mouseover", function() {
                    $("#ventureservice-bar").fadeIn(200)
                }).on("mouseleave", function() {
                    $("#ventureservice-bar").hide()
                }),
                $("#course-bar").on("mouseover", function() {
                    $(this).show()
                }).on("mouseleave", function() {
                    $(this).hide()
                }),
                $("#ventureservice-bar").on("mouseover", function() {
                    $(this).show()
                }).on("mouseleave", function() {
                    $(this).hide()
                });
                var n = $("body")
                  , t = $(".header .transparent-mask");
                $(".top-menu-expand-icon").on("click", function() {
                    n.hasClass("pusher") ? (n.removeClass("pusher"),
                    t.hide()) : (n.addClass("pusher"),
                    t.show())
                }),
                t.on("click", function() {
                    return n.hasClass("pusher") && (n.removeClass("pusher"),
                    $(this).hide()),
                    !1
                })
            },
            myOrderLoginEvent: function() {
                var e = this;
                $(".header #myorder-btn").click(function() {
                    e.isLoginStatus ? window.location.href = "/order" : e.isPhone() ? ($("body").removeClass("pusher"),
                    $(".header .transparent-mask").hide(),
                    setTimeout(function() {
                        o.showLogin()
                    }, 250)) : i.showLogin()
                })
            },
            isLogin: function() {
                var e = this;
                setTimeout(function() {
                    void 0 === window.loginState ? e.isLogin() : 0 == window.loginState ? e.isLoginStatus = !1 : 1 == window.loginState && (e.isLoginStatus = !0)
                }, 100)
            },
            isPhone: function() {
                return window.screen.width < 700
            }
        };
        e.exports = a
    },
    3: function(e, n, t) {
        var i = t(4)
          , o = t(5)
          , a = t(6)
          , s = {
            init: function() {
                var e = location.href;
                e.indexOf("code") > 0 ? this.getWxInfo() : this.getInfo()
            },
            getWxInfo: function() {
                var e = this
                  , n = e.parseQueryString(location.href).code;
                $.ajax({
                    url: "/api/website/weixin/check/",
                    type: "get",
                    dataType: "json",
                    data: {
                        code: n
                    },
                    success: function(e) {
                        url = localStorage.wx_redict,
                        200 == e.code && e.data.is_bind && url ? (localStorage.removeItem("wx_redict"),
                        location.href = url) : location.href = "http://" + location.host
                    }
                })
            },
            wxLogin: function() {
                $(".wx-login").on("click", function() {
                    localStorage.wx_redict = location.href,
                    location.href = "https://open.weixin.qq.com/connect/qrconnect?appid=wx5d417cd26ae2f339&redirect_uri=http%3A%2F%2Fwww.xfz.cn/wechat/loading/&response_type=code&scope=snsapi_login"
                })
            },
            getInfo: function() {
                var e = this;
                $.ajax({
                    url: "/api/website/user/info/",
                    type: "get",
                    dataType: "json",
                    success: function(n) {
                        if ("200" == n.code) {
                            var t = n.data.name.length > 6 ? n.data.name.substring(0, 6) + "..." : n.data.name
                              , o = template.compile(i)
                              , s = o({
                                loginSuccessData: n.data,
                                loginName: t
                            });
                            $(".login-container").append(s),
                            $(".open-comm .photo-name") && $(".open-comm .photo-name").show(0, function() {
                                $(".photo-name-submit .photo img").attr("src", n.data.photo),
                                $(".photo-name-submit .name").html(n.data.name)
                            }),
                            e.logOut(),
                            window.loginState = 1,
                            window.user = n.data
                        } else {
                            var c = template.compile(a)
                              , l = c({});
                            $(".login-container").append(l),
                            $(".open-comm .photo-name").hide(),
                            e.bind(),
                            window.loginState = 0
                        }
                    }
                })
            },
            parseQueryString: function(e) {
                for (var n, t = e.split("?")[1], i = t.split("&"), o = {}, a = 0; a < i.length; a++)
                    n = i[a].split("="),
                    o[n[0]] = n[1];
                return o
            },
            showLogin: function() {
                var e = template.compile(o)
                  , n = e({});
                $(".login-mask").fadeIn(200, function() {
                    $(this).html(n),
                    c.init()
                })
            },
            close: function() {
                var e = $(".close")
                  , n = $(".login-mask");
                e.on("click", function() {
                    var e = $(this);
                    n.fadeOut(200, function() {
                        e.parent().remove()
                    })
                })
            },
            logOut: function() {
                $(".login-success-wrapper").on("click", function(e) {
                    e.stopPropagation(),
                    $("#logout").fadeIn(200),
                    l.init()
                }),
                $(document).on("click", function() {
                    $("#logout").fadeOut()
                })
            },
            bind: function() {
                var e = $("#login-btn")
                  , n = $("#regist-btn")
                  , t = $(".login-mask");
                e.off().on("click", function() {
                    var e = template.compile(o)
                      , n = e({});
                    t.fadeIn(200, function() {
                        $(this).html(n),
                        c.init()
                    })
                }),
                n.on("click", function() {
                    var e = template.compile(o)
                      , n = e({});
                    t.fadeIn(200, function() {
                        $(this).html(n),
                        c.init()
                    })
                })
            }
        }
          , c = {
            init: function() {
                s.close(),
                s.bind(),
                s.wxLogin(),
                this.bind()
            },
            bind: function() {
                var e, n, t = this, i = $(".login-phone"), o = $(".verify-code"), a = $(".send-verify-code"), s = $(".voice-code"), c = $(".voice-code-tips"), l = $(".voice-code-tips label"), r = $(".voice-code span"), d = $(".login-submit"), u = $(".phone-tips"), p = ($(".login-mask"),
                $(".login-dialog")), h = $(".login-container input").val(), v = 60, f = 60, m = /^1[3|4|5|7|8|][0-9]{9}$/;
                r.removeClass("voice-able").addClass("voice-disable"),
                a.removeClass("btn-able").addClass("btn-disable"),
                p.on("blur", ".input", function() {
                    var e = $(this);
                    if (e.hasClass("login-phone")) {
                        if (!m.test($.trim(i.val())))
                            return $(".login-card .phone-status-icon").fadeIn(0, function() {
                                $(this).removeClass("success").addClass("false"),
                                u.html("手机号码不正确!"),
                                t.clearTipsHtml(u),
                                a.removeClass("btn-able").addClass("btn-disable"),
                                r.removeClass("voice-able").addClass("voice-disable"),
                                d.addClass("phone-wrong")
                            }),
                            !1;
                        $(".login-card .phone-status-icon").fadeIn(0, function() {
                            $(this).removeClass("false").addClass("success"),
                            u.html("")
                        }),
                        a.removeClass("btn-disable").addClass("btn-able"),
                        r.removeClass("voice-disable").addClass("voice-able"),
                        d.removeClass("phone-wrong")
                    }
                }),
                a.off().on("click", function() {
                    var n = $(this);
                    return !n.hasClass("btn-disable") && ("true" != n.attr("send") && void $.ajax({
                        url: "/api/website/sms_captcha/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: h,
                            phone: $.trim(i.val())
                        },
                        success: function(n) {
                            "200" == n.code ? (clearInterval(e),
                            a.val(v + "s").css("background", "#ccc"),
                            a.attr("send", !0).removeClass("btn-able").addClass("btn-disable"),
                            e = setInterval(function() {
                                v--,
                                v > 0 ? (a.val(v + "s").css("background", "#ccc"),
                                a.attr("send", !0).removeClass("btn-able").addClass("btn-disable")) : (a.val("发送验证码").css("background", "#5b86db"),
                                a.attr("send", !1).removeClass("btn-disable").addClass("btn-able"),
                                v = 60,
                                clearInterval(e))
                            }, 1e3)) : (u.html(n.data.message),
                            t.clearTipsHtml(u))
                        }
                    }))
                }),
                r.off().click(function() {
                    return "" == i.val() ? (u.html("请填写手机号码"),
                    t.clearTipsHtml(u),
                    !1) : !$(this).hasClass("voice-disable") && void $.ajax({
                        url: "/api/website/sms_captcha/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: h,
                            phone: $.trim(i.val()),
                            type: "voice"
                        },
                        success: function(e) {
                            "200" == e.code ? (clearInterval(n),
                            n = setInterval(function() {
                                f--,
                                f > 0 ? (s.hide(),
                                c.show(),
                                l.html(f)) : (s.show(),
                                c.hide(),
                                f = 60,
                                clearInterval(n))
                            }, 1e3)) : (u.html(e.data.message),
                            t.clearTipsHtml(u))
                        }
                    })
                }),
                d.off().on("click", function() {
                    return m.test($.trim(i.val())) ? "" == $.trim(o.val()) || $.trim(o.val()).length > 4 ? (u.html("请填写验证码"),
                    t.clearTipsHtml(u),
                    !1) : (u.html(""),
                    void (d.hasClass("disabled") || (d.addClass("disabled"),
                    $.ajax({
                        url: "/api/website/user/login/v2/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: h,
                            phone: $.trim(i.val()),
                            captcha: $.trim(o.val())
                        },
                        success: function(e) {
                            "200" == e.code ? (window.loginState = 1,
                            window.user = e.data,
                            window.location.reload()) : (window.loginState = 0,
                            u.html(e.data.message),
                            t.clearTipsHtml(u),
                            d.removeClass("disabled"))
                        }
                    })))) : (u.html("手机号码不正确!"),
                    t.clearTipsHtml(u),
                    !1)
                })
            },
            clearTipsHtml: function(e) {
                setTimeout(function() {
                    e.html("")
                }, 5e3)
            }
        }
          , l = {
            init: function() {
                this.bind()
            },
            bind: function() {
                $("#logout-btn").on("click", function() {
                    $.ajax({
                        url: "/api/website/user/logout/",
                        type: "GET",
                        dataType: "json",
                        success: function(e) {
                            "200" == e.code ? location.reload() : alert(e.message)
                        }
                    })
                })
            }
        };
        e.exports = s
    },
    4: function(e, n) {
        e.exports = '<div class="login-success-wrapper">\n\t<div class="photo">\n\t\t<%if(loginSuccessData.photo) {%>\n        \t<img src="<%=loginSuccessData.photo%>">\n        <%}else{%>\n        \t<img src="http://www.xfz.cn/static/build/images/topic_photo.png">\n        <%}%>\n    </div>\n    <div class="name"><%=loginName%></div>\n</div>'
    },
    5: function(e, n) {
        e.exports = '<div class="login-dialog dialog">\n    <div class="login-close close"></div>\n    <div class="dialog-bg">\n        <div class="dialog-title">登录小饭桌</div>\n    </div>\n    <div class="login-fill-card">\n        <div class="login-card card">\n            <div class="inputs">\n                <div class="login-phone-input">\n                    <input type="text" pattern="^\\d{11}$" class="login-phone input long-input" placeholder="仅支持中国大陆手机号" maxlength="11" autocomplete="off">\n                    <i class="phone-status-icon"></i>\n                </div>\n                <p class="button-height"></p>\n                <div class="verify">\n                    <input type="text" pattern="^\\d{4}$" class="verify-code input short-input" placeholder="验证码" maxlength="4" validate="^\\d{4}$" autocomplete="off">\n                    <input type="button" class="send-verify-code input-button short-button" send="false" value="发送验证码">\n                </div>\n                <p class="voice-code">收不到短信？<span send="false">接收语音验证码</span></p>\n                <p class="voice-code-tips" style="display: none;">正在拨打电话,请稍后…<label>60</label>s后可重试</p>\n                <p class="phone-tips"></p>\n                <div class="login-submit submit">登录</div>\n            </div>\n            <div class="other-login">\n                <div>第三方网站帐号登录</div>\n                <a href="#" class="wx-login"></a>\n            </div>\n        </div>\n    </div>\n</div>\n'
    },
    6: function(e, n) {
        e.exports = '<div class="login-false-wrapper">\n\t<i class="icon"></i>\n\t<a href="javascript:void(0)" id="login-btn">登录</a><a href="javascript:void(0)" id="regist-btn">注册</a>\n</div>'
    },
    7: function(e, n, t) {
        var i = t(8)
          , o = {
            is_wx: function() {
                return navigator.userAgent.toLowerCase().indexOf("micromessenger") > -1
            },
            wx_login: function() {
                $(".weixin-login-btn").on("click", function() {
                    localStorage.wx_redict = location.href,
                    location.href = "https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx5d417cd26ae2f339&redirect_uri=http%3a%2f%2fwww.xfz.cn/wechat/loading/&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect"
                })
            },
            init: function() {
                this.bindEvent();
                location.href.indexOf("code") > -1 && localStorage.wx_redict && this.is_wx() ? (code = location.href.split("?")[1].split("&")[0].split("=")[1],
                $.ajax({
                    url: "/api/website/weixin/check/",
                    type: "get",
                    dataType: "json",
                    data: {
                        code: code
                    },
                    success: function(e) {
                        url = localStorage.wx_redict,
                        200 == e.code && e.data.is_bind && url ? (localStorage.removeItem("wx_redict"),
                        location.href = url) : location.href = "http://" + location.host
                    }
                })) : $.ajax({
                    url: "/api/website/user/info/",
                    type: "get",
                    dataType: "json",
                    success: function(e) {
                        "200" == e.code ? (window.loginState = 1,
                        window.user = e.data,
                        $(".mobile-nav .expand-nav-list li.user-info").html('<div class="photo"><img src="' + e.data.photo + '"></div><div class="name">' + e.data.name + "</div>"),
                        e.data.uid && ($(".mobile-nav .expand-nav-list").append('<li><a href="javascript:;" id="logout-btn">退出登录</a></li>'),
                        $("#logout-btn").on("click", function() {
                            $.ajax({
                                url: "/api/website/user/logout/",
                                type: "GET",
                                dataType: "json",
                                success: function(e) {
                                    "200" == e.code ? location.reload() : alert(e.message)
                                }
                            })
                        }))) : window.loginState = 0
                    }
                })
            },
            bindEvent: function() {
                var e = $("body")
                  , n = $(".header .transparent-mask");
                $("#login-btn-m").on("click", function() {
                    e.removeClass("pusher"),
                    n.hide(),
                    setTimeout(function() {
                        o.showLogin()
                    }, 250)
                }),
                $("#regist-btn-m").on("click", function() {
                    e.removeClass("pusher"),
                    n.hide(),
                    setTimeout(function() {
                        o.showLogin()
                    }, 250)
                })
            },
            showLogin: function() {
                var e = template.compile(i)
                  , n = e({});
                this.is_wx() ? $(".login-mask").fadeIn(100, function() {
                    $(this).html(n),
                    $(".login-regist-card").hide(),
                    a.init()
                }) : $(".login-mask").fadeIn(100, function() {
                    $(this).html(n),
                    $(".wx-login-card").hide(),
                    $(".login-regist-card").show().data("show", !0),
                    a.init()
                })
            },
            close: function() {
                function e(e) {
                    e = e || window.event,
                    e.preventDefault && e.preventDefault(),
                    e.returnValue = !1
                }
                var n = $(".close")
                  , t = $(".login-mask")
                  , i = function() {
                    $(document).on("mousewheel", e),
                    $(document).on("touchmove", e)
                }
                  , o = function() {
                    $(document).off("mousewheel", e),
                    $(document).off("touchmove", e)
                };
                i(),
                n.on("click", function() {
                    var e = $(this);
                    t.fadeOut(200, function() {
                        e.parent().remove()
                    }),
                    o()
                })
            }
        }
          , a = {
            init: function() {
                o.close(),
                this.wxChangeBind(),
                this.bind()
            },
            bind: function() {
                var e, n, t = this, i = $(".login-phone"), a = $(".verify-code"), s = $(".send-verify-code"), c = $(".voice-code-tips"), l = $(".voice-code-tips label"), r = $(".voice-code"), d = $(".voice-code span"), u = $(".login-submit"), p = $(".login-regist-card .tips"), h = ($(".login-mask"),
                $(".mobile-dialog")), v = $(".login-container input").val(), f = /^1[3|4|5|7|8|][0-9]{9}$/, m = 60, g = 60;
                d.removeClass("voice-able").addClass("voice-disable"),
                s.removeClass("btn-able").addClass("btn-disable"),
                h.on("blur", ".input", function() {
                    var e = $(this);
                    if (e.hasClass("login-phone")) {
                        if (!f.test($.trim(i.val())))
                            return $(".login-regist-card .phone-status-icon").fadeIn(0, function() {
                                $(this).removeClass("success").addClass("false"),
                                s.addClass("btn-disable").removeClass("btn-able"),
                                d.addClass("voice-disable").removeClass("voice-able"),
                                p.html("手机号码不正确!"),
                                t.clearTipsHtml(p)
                            }),
                            !1;
                        $(".login-regist-card .phone-status-icon").fadeIn(0, function() {
                            $(this).removeClass("false").addClass("success"),
                            s.addClass("btn-able").removeClass("btn-disable"),
                            d.addClass("voice-able").removeClass("voice-disable"),
                            p.html("")
                        })
                    }
                }),
                s.off().on("click", function() {
                    var e = $(this);
                    return !e.hasClass("btn-disable") && ("true" != e.attr("send") && void $.ajax({
                        url: "/api/website/sms_captcha/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: v,
                            phone: $.trim(i.val())
                        },
                        success: function(e) {
                            "200" == e.code ? (clearInterval(n),
                            s.html(m + "s").css("background", "#ccc"),
                            s.attr("send", !0).removeClass("btn-able").addClass("btn-disable"),
                            n = setInterval(function() {
                                m--,
                                m > 0 ? (s.html(m + "s").css("background", "#ccc"),
                                s.attr("send", !0).removeClass("btn-able").addClass("btn-disable")) : (s.html("发送验证码").css("background", "#5b86db"),
                                s.attr("send", !1).removeClass("btn-disable").addClass("btn-able"),
                                m = 60,
                                clearInterval(n))
                            }, 1e3)) : (p.html(e.data.message),
                            t.clearTipsHtml(p))
                        }
                    }))
                }),
                d.off().click(function() {
                    return "" == i.val() ? (p.html("请填写手机号码"),
                    t.clearTipsHtml(p),
                    !1) : !$(this).hasClass("voice-disable") && void $.ajax({
                        url: "/api/website/sms_captcha/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: v,
                            phone: $.trim(i.val()),
                            type: "voice"
                        },
                        success: function(n) {
                            "200" == n.code ? (clearInterval(e),
                            e = setInterval(function() {
                                g--,
                                g > 0 ? (r.hide(),
                                c.show(),
                                l.html(g)) : (r.show(),
                                c.hide(),
                                g = 60,
                                clearInterval(e))
                            }, 1e3)) : (p.html(n.data.message),
                            t.clearTipsHtml(p))
                        }
                    })
                }),
                u.off().on("click", function() {
                    return f.test($.trim(i.val())) ? "" == $.trim(a.val()) || $.trim(a.val()).length > 4 ? (p.html("请填写验证码"),
                    t.clearTipsHtml(p),
                    !1) : (p.html(""),
                    void (u.hasClass("disabled") || (u.addClass("disabled"),
                    $.ajax({
                        url: "/api/website/user/login/v2/",
                        type: "POST",
                        dataType: "json",
                        data: {
                            csrfmiddlewaretoken: v,
                            phone: $.trim(i.val()),
                            captcha: $.trim(a.val())
                        },
                        success: function(e) {
                            "200" == e.code ? (window.loginState = 1,
                            window.user = e.data,
                            window.location.reload()) : (window.loginState = 0,
                            p.html(e.data.message),
                            t.clearTipsHtml(p),
                            u.removeClass("disabled"))
                        }
                    })))) : (p.html("手机号码不正确!"),
                    t.clearTipsHtml(p),
                    !1)
                }),
                o.wx_login()
            },
            clearTipsHtml: function(e) {
                setTimeout(function() {
                    e.html("")
                }, 5e3)
            },
            wxChangeBind: function() {
                $(".bottom-click").on("click", function() {
                    $(".wx-login-card").hide(),
                    $(".login-regist-card").show().data("show", !0)
                })
            }
        };
        e.exports = o
    },
    8: function(e, n) {
        e.exports = '<div class="mobile-dialog login-regist">\n    <div class="login-close close"></div>\n    <div class="login-regist-card card" data-show="true">\n        <div class="logo"></div>\n        <div class="login-regist-phone-input">\n            <input type="tel" pattern="^d{11}$" class="login-phone input long-input" placeholder="手机号" maxlength="11">\n            <i class="phone-status-icon"></i>\n        </div>\n        <p class="p-height"></p>\n        <div class="verify">\n            <input type="tel" pattern="^d{4}$" class="verify-code input short-input" placeholder="验证码" maxlength="4" validate="^d{4}$">\n            <div class="send-verify-code input-button short-button btn-disable" send="false">发送验证码</div>\n        </div>\n        <p class="voice-code">收不到短信？<span>接收语音验证码</span></p>\n        <p class="voice-code-tips" style="display: none;">正在拨打电话,请稍后…<label>60</label>s后可重试</p>\n        <p class="tips"></p>\n        <div class="login-submit submit" id="login-submit">立即登录</div>\n    </div>\n    <div class="wx-login-card card" data-show="true">\n        <div class="logo"></div>\n        <div class="weixin-login-btn">\n            <div class="btn-box">\n                <span class="wx-icon"></span>\n                <span class="text">微信登录</span>\n            </div>\n        </div>\n        <div class="bottom-click">\n            <span>使用手机验证码登录</span>\n        </div>\n    </div>\n</div>\n'
    },
    11: function(e, n, t) {
        var i = t(3)
          , o = t(7)
          , a = {
            init: function() {
                this.isPc() ? ($("body").attr("device", "pc"),
                i.init()) : ($("body").attr("device", "touch"),
                o.init())
            },
            isPc: function() {
                for (var e = navigator.userAgent, n = new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"), t = !0, i = 0; i < n.length; i++)
                    if (e.indexOf(n[i]) > 0) {
                        t = !1;
                        break
                    }
                return t
            }
        };
        e.exports = a
    },
    17: function(e, n) {
        var t = {
            $modalMask: $(".modal-mask"),
            $body: $("body"),
            phoneReg: /^1[3|4|5|7|8|][0-9]{9}$/,
            emailReg: /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
            isPhone: function() {
                for (var e = navigator.userAgent, n = !1, t = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPod"], i = 0; i < t.length; i++) {
                    if (e.indexOf(t[i]) > 0) {
                        n = !0;
                        break
                    }
                    n = !1
                }
                return n
            },
            getPar: function(e) {
                var n = document.location.href
                  , t = n.indexOf(e + "=");
                if (t == -1)
                    return "";
                var i = n.slice(e.length + t + 1)
                  , o = i.indexOf("&");
                o != -1 && (i = i.slice(0, o));
                var o = i.indexOf("/");
                return o != -1 && (i = i.slice(0, o)),
                i
            },
            isPhoneWechat: function(e, n, t, i) {
                for (var o = navigator.userAgent, a = !1, s = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"], c = 0; c < s.length; c++) {
                    if (o.indexOf(s[c]) > 0) {
                        a = !0;
                        break
                    }
                    a = !1
                }
                a && this.getWx(e, n, t, i)
            },
            isWechartBowser: function() {
                var e = window.navigator.userAgent.toLowerCase();
                return "micromessenger" == e.match(/MicroMessenger/i)
            },
            getWx: function(e, n, t, i) {
                var o = this
                  , a = {
                    url: i || location.href,
                    csrfmiddlewaretoken: $(".login-container input").val()
                };
                $.ajax({
                    url: "/api/website/signature/weixin/",
                    type: "post",
                    data: a,
                    success: function(a) {
                        o.callBack(a.data, e, n, t, i)
                    }
                })
            },
            callBack: function(e, n, t, i, o) {
                var o = o || location.href;
                n = n ? n : $(".topic-title").html() + "_小饭桌创业课堂",
                t = t ? t : "小饭桌创业课堂，创业者的第一堂课！",
                i = i ? i : "http://static-image.xfz.cn/share_logo.png",
                wx.config({
                    debug: !1,
                    appId: e.app_id,
                    timestamp: e.timestamp,
                    nonceStr: e.noncestr,
                    signature: e.signature,
                    jsApiList: ["onMenuShareTimeline", "onMenuShareAppMessage", "chooseImage", "uploadImage", "previewImage"]
                }),
                wx.ready(function() {
                    wx.onMenuShareTimeline({
                        title: n,
                        link: o,
                        imgUrl: i,
                        desc: t,
                        success: function() {},
                        cancel: function() {}
                    }),
                    wx.onMenuShareAppMessage({
                        title: n,
                        link: o,
                        imgUrl: i,
                        desc: t,
                        type: "",
                        dataUrl: "",
                        success: function() {},
                        cancel: function() {}
                    })
                })
            },
            dealWeiBoSeo: function() {
                var e = $(".topic-title").html() + "_小饭桌创业课堂"
                  , n = "http://static-image.xfz.cn/share_logo.png"
                  , t = location.href;
                $("#ogTitle").attr("content", e),
                $("#ogImg").attr("content", n),
                $("#ogUrl").attr("content", t)
            },
            share: function() {
                var e = "http://static-image.xfz.cn/share_logo.png"
                  , n = $(".topic-title").html() + "_小饭桌创业课堂"
                  , t = "http://www.xfz.cn/api/website/weixin/qrcode?url=" + encodeURIComponent(window.location.href)
                  , i = "http://share.baidu.com/s?type=text&searchPic=1&sign=on&to=tsina&url=" + window.location.href + "&f=weibo&title=" + n + "&key=3301380851&pic=" + e;
                $(".panel-weixin img").attr("src", t),
                $(".sina").attr("href", i),
                $(".weixin").on("mouseover", function(e) {
                    e.preventDefault(),
                    $(".panel-weixin").fadeIn(200)
                }).on("mouseleave", function(e) {
                    e.preventDefault(),
                    $(".panel-weixin").fadeOut(200)
                })
            },
            showModal: function(e, n) {
                "none" == this.$modalMask.css("display") ? this.$modalMask.html(template.compile(e)(n)).css("opacity", 0).css("display", "block").animate({
                    opacity: 1
                }, 300) : this.$modalMask.html(template.compile(e)(n)),
                $(".modal-mask .dialog").animate({
                    opacity: 1
                }, 300),
                this.addCloseEvent(),
                this.$body.css("overflow", "hidden")
            },
            addCloseEvent: function() {
                $(".close").on("click", function() {
                    t.hideModal()
                })
            },
            hideModal: function() {
                this.$modalMask.animate({
                    opacity: 0
                }, 300, function() {
                    t.$modalMask.html("").css("display", "none"),
                    t.$body.css("overflow", "visible")
                })
            },
            reg: function(e, n) {
                return !!e.test($.trim(n.val()))
            },
            dealTime: function(e) {
                var n = Date.parse(new Date)
                  , t = (new Date).getFullYear()
                  , e = e
                  , i = Date.parse(new Date(e.replace(/-/g, "/")))
                  , o = e.split(" ")[0].replace(/-/g, "/").split("/")[0]
                  , a = e.split(" ")[0].replace(/-/g, "/").split("/")[1]
                  , s = e.split(" ")[0].replace(/-/g, "/").split("/")[2]
                  , c = (e.split(" ")[1].split(":")[0],
                e.split(" ")[1].split(":")[1],
                (n - i) / 1e3);
                return c < 60 ? e = "刚刚" : 60 <= c && c < 3600 ? e = Math.round(c / 60) + "分钟前" : 3600 <= c && c < 86400 ? e = Math.round(c / 3600) + "小时前" : 86400 <= c && (e = o < t ? o + "年" + a + "月" + s + "日 " : a + "月" + s + "日 "),
                e
            },
            getParameterByName: function(e, n) {
                n || (n = window.location.href),
                e = e.replace(/[\[\]]/g, "\\$&");
                var t = new RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)")
                  , i = t.exec(n);
                return i ? i[2] ? decodeURIComponent(i[2].replace(/\+/g, " ")) : "" : null
            }
        };
        e.exports = t
    },
    33: function(e, n) {
        e.exports = '<div class="wechat-pay-dialog dialog">\n    <div class="wechat-pay-close close"></div>\n    <div class="content">\n        <div class="title">微信支付</div>\n        <div class="order">\n            <div class="order-info">\n                <div class="info-title">订单信息：</div>\n                <div class="info-detail"><%= title %></div>\n            </div>\n            <div class="order-price">\n                <div class="price-title">需支付：</div>\n                <div class="price-detail"><span>¥</span><%= price %></div>\n            </div>\n        </div>\n        <div class="pay-qr">\n            <img src="<%= qrcode %>" alt="微信支付二维码">\n            使用微信扫码支付\n        </div>\n        <div class="pay-success"><i></i>支付成功</div>\n    </div>\n</div>'
    },
    34: function(e, n) {
        e.exports = '<div class="cancel-pay-confirm-dialog dialog">\n    <div class="cancel-pay-confirm-close close"></div>\n    <div class="content">支付未完成，确认取消付款？</div>\n    <div class="inputs">\n        <div class="button cancel">确认</div>\n        <div class="button submit">继续支付</div>\n    </div>\n</div>'
    },
    74: function(e, n, t) {
        var i = t(2)
          , o = t(75)
          , a = t(11);
        i.init(),
        a.init(),
        o.init()
    },
    75: function(e, n, t) {
        var i = t(3)
          , o = t(7)
          , a = t(76)
          , s = t(33)
          , c = t(77)
          , l = t(78)
          , r = t(34)
          , d = t(79)
          , u = t(80)
          , p = t(17)
          , h = {
            device: "",
            vendor: null,
            clickflag: !0,
            productInfo: {},
            coupon: {
                use: !1,
                price: 0
            },
            orderId: "",
            subscribeModalShow: !1,
            init: function() {
                function e() {
                    setTimeout(function() {
                        void 0 === window.loginState ? e() : 0 == window.loginState ? "pc" == n.device ? i.showLogin() : "mobile" == n.device && o.showLogin() : 1 == window.loginState && n.getProductInfo()
                    }, 100)
                }
                var n = this;
                this.getVenDor(),
                window.screen.width > 800 ? (this.device = "pc",
                $(".wechart-pay-button").show()) : (this.device = "mobile",
                n.isPhoneWx() ? $(".wechart-pay-button").show() : $(".zhifubao-pay-button").show(),
                this.getWx()),
                e()
            },
            getVenDor: function() {
                this.vendor = p.getParameterByName("vendor", location.href)
            },
            getProductInfo: function() {
                var e = this;
                $.ajax({
                    url: "/api/website/pay/product/info/",
                    type: "post",
                    data: {
                        products: p.getPar("id")
                    },
                    success: function(n) {
                        200 == n.code && (e.productInfo = n.data[0],
                        e.changePayBtn("pccount", n.data[0].count),
                        $(".order-list").html(template.compile(a)({
                            item: e.productInfo
                        })),
                        e.productInfo.single || ($(".name-price .count").show(),
                        window.screen.width > 800 && $(".unit-price").show()),
                        e.addEvent(),
                        e.productInfo.number = p.getPar("num") || 1,
                        e.countPrice())
                    }
                })
            },
            isPhoneWx: function() {
                var e = navigator.userAgent.toLowerCase();
                return "micromessenger" == e.match(/MicroMessenger/i)
            },
            addEvent: function() {
                var e = this;
                $(".count .add").on("click", function() {
                    e.changeProjectCount("add")
                }),
                $(".count .remove").on("click", function() {
                    e.changeProjectCount("remove")
                }),
                $(".coupon .use").on("click", function() {
                    var n = $(".coupon");
                    e.coupon.use ? (n.removeClass("show"),
                    e.coupon.use = !1,
                    e.countPrice()) : (n.addClass("show"),
                    e.coupon.use = !0,
                    e.countPrice())
                }),
                $(".coupon .add").on("click", function() {
                    e.addCoupon($(".coupon input").val())
                }),
                $(".submit-button .wechart-pay-button").off().on("click", function() {
                    0 != e.productInfo.count && ("pc" == e.device && e.clickflag ? (e.clickflag = !1,
                    e.createOrder("native", $(".coupon input").val()),
                    $(".wechart-pay-button").html("正在跳转")) : "mobile" == e.device && e.clickflag && e.isPhoneWx() && (e.clickflag = !1,
                    e.createOrder("jsapi", $(".coupon input").val()),
                    $(".wechart-pay-button").html("正在跳转")))
                }),
                $(".submit-button .zhifubao-pay-button").off().on("click", function() {
                    0 != e.productInfo.count && e.clickflag && (e.clickflag = !1,
                    e.createOrder("alipay", $(".coupon input").val()),
                    $(".zhifubao-pay-button").html("正在跳转"))
                }),
                $(".submit-button .duigong-pay-button").off().on("click", function() {
                    0 != e.productInfo.count && (p.showModal(l),
                    $(".dialog .sure-button .confirm").off().on("click", function() {
                        e.createOrder("company_transfer", $(".coupon input").val(), function() {
                            window.location.href = "/order/"
                        })
                    }),
                    $(".dialog .sure-button .change,.dialog .close").off().on("click", function() {
                        p.hideModal(),
                        $(".duigong-pay-button").html("银行对公转账")
                    }))
                })
            },
            changeProjectCount: function(e) {
                var n = this;
                if ("add" == e) {
                    if (n.productInfo.count > 0 && n.productInfo.number >= n.productInfo.count)
                        return void $(".tips-count").html("库存不足，最多可购" + n.productInfo.count + "个");
                    n.productInfo.number++,
                    n.countPrice()
                } else
                    "remove" == e && (n.productInfo.number <= n.productInfo.count && $(".tips-count").html(""),
                    n.productInfo.number > 1 && (n.productInfo.number--,
                    n.countPrice()))
            },
            countPrice: function() {
                var e = this
                  , n = this.productInfo;
                n.single && (n.number = 1),
                n.totalPrice = n.fee * n.number,
                this.coupon.use ? n.resultPrice = 100 * n.totalPrice - 100 * this.coupon.price > 0 ? (100 * n.totalPrice - 100 * this.coupon.price) / 100 : 0 : n.resultPrice = n.totalPrice,
                0 != n.resultPrice && "0" != n.resultPrice || e.changePayBtn("pcreturn"),
                n.totalPrice = parseFloat(n.totalPrice.toFixed(2)),
                n.resultPrice = parseFloat(n.resultPrice.toFixed(2)),
                $(".count .num").html(n.number),
                $(".coupon .num").html("-" + this.coupon.price),
                $(".price .num").html(n.totalPrice),
                $(".result .num").html(n.resultPrice)
            },
            changePayBtn: function(e, n) {
                "pcreturn" == e ? ($(".wechart-pay-button").html("立即支付").css({
                    background: "#FFBE33",
                    "text-indent": "0"
                }),
                $(".zhifubao-pay-button").html("立即支付").css({
                    background: "#FFBE33",
                    "text-indent": "0"
                })) : "pccount" == e && 0 == n && ($(".wechart-pay-button").html("已售完").css({
                    background: "#ccc",
                    color: "#999",
                    "text-indent": "0"
                }),
                $(".zhifubao-pay-button").html("已售完").css({
                    background: "#ccc",
                    color: "#999",
                    "text-indent": "0"
                }))
            },
            addCoupon: function(e) {
                var n = this;
                $.ajax({
                    url: "/api/website/pay/coupon/check/",
                    data: {
                        code: $.trim(e),
                        product_id: p.getPar("id")
                    },
                    success: function(e) {
                        200 == e.code && (e.data.available ? (n.coupon.price = e.data.fee,
                        n.countPrice(),
                        $(".coupon .num").show(),
                        $(".coupon .tips").hide()) : ($(".coupon .num").hide(),
                        $(".coupon .tips").show(),
                        n.coupon.price = 0,
                        n.countPrice()))
                    }
                })
            },
            payAllUseCouponHasSucess: function() {
                var e = this;
                p.showModal(c),
                setTimeout(function() {
                    e.checkSubscribeStatus()
                }, 1500)
            },
            payNotAllUseCouponHasSucess: function() {
                var e = this;
                $(".wechat-pay-dialog .pay-qr").hide(),
                $(".wechat-pay-dialog .pay-success").show(),
                setTimeout(function() {
                    e.checkSubscribeStatus()
                }, 1500)
            },
            createOrder: function(e, n, t) {
                var i, o = this;
                i = "native" == e || "jsapi" == e || "company_transfer" == e ? {
                    product_id: this.productInfo.id,
                    coupon_code: this.coupon.use ? $.trim(n) : "",
                    type: e,
                    number: this.productInfo.number,
                    openid: openid
                } : {
                    product_id: this.productInfo.id,
                    coupon_code: this.coupon.use ? $.trim(n) : "",
                    type: e,
                    number: this.productInfo.number,
                    return_url: sessionStorage.courseback
                },
                location.href.indexOf("lesson") > -1 && (i.lesson = location.href.split("&")[1].split("=")[1]);
                var a = sessionStorage.getItem("UserVendor");
                a && null != a && "null" != a && (i.vendor = a),
                $.ajax({
                    url: "/api/website/pay/order/create/",
                    type: "post",
                    data: i,
                    success: function(n) {
                        if (200 == n.code) {
                            if (o.orderId = n.data.order,
                            "company_transfer" == e)
                                return void t();
                            "pc" == o.device ? (o.wechatPayDialogData = {
                                qrcode: n.data.qrcode,
                                price: o.productInfo.resultPrice,
                                title: o.productInfo.name
                            },
                            o.showPayDialog(s, o.wechatPayDialogData),
                            n.data.need_pay ? o.getPaySuccessStatus(0, n.data.order) : o.payAllUseCouponHasSucess()) : "mobile" == o.device && o.isPhoneWx() ? n.data.need_pay ? o.chooseWXPay(n.data) : o.checkSubscribeStatus() : n.data.need_pay ? (window.location.href = n.data.pay_url,
                            sessionStorage.removeItem("courseback")) : o.payAllUseCouponHasSucess()
                        }
                    }
                })
            },
            showPayDialog: function(e, n) {
                var t = this;
                p.showModal(e, n),
                $(".dialog .close").off("click").on("click", function() {
                    p.showModal(r),
                    $(".dialog .cancel,.dialog .close").on("click", function() {
                        p.hideModal(),
                        $(".wechart-pay-button").html("微信支付"),
                        t.clickflag = !0
                    }),
                    $(".dialog .submit").on("click", function() {
                        t.showPayDialog(e, n)
                    })
                })
            },
            getPaySuccessStatus: function(e, n) {
                var t = this;
                e > 100 || $.ajax({
                    url: "/api/website/pay/order/" + n + "/check/",
                    success: function(i) {
                        200 == i.code && (i.data.is_pay ? t.payNotAllUseCouponHasSucess() : setTimeout(function() {
                            if ($(".wechat-pay-dialog").length)
                                t.getPaySuccessStatus(e + 1, n);
                            else
                                var i = setInterval(function() {
                                    $(".wechat-pay-dialog").length && (clearInterval(i),
                                    t.getPaySuccessStatus(0, n))
                                }, 2e3)
                        }, 2e3))
                    }
                })
            },
            getWx: function() {
                var e = this;
                $.ajax({
                    url: "/api/website/signature/weixin/",
                    type: "post",
                    data: {
                        url: window.location.href,
                        type: "pay"
                    },
                    success: function(n) {
                        e.wxCallback(n.data)
                    }
                })
            },
            wxCallback: function(e) {
                wx.config({
                    debug: !1,
                    appId: e.app_id,
                    timestamp: e.timestamp,
                    nonceStr: e.noncestr,
                    signature: e.signature,
                    jsApiList: ["chooseWXPay"]
                })
            },
            chooseWXPay: function(e) {
                var n = this;
                wx.chooseWXPay({
                    timestamp: e.timeStamp,
                    nonceStr: e.nonceStr,
                    "package": e["package"],
                    signType: e.signType,
                    paySign: e.paySign,
                    success: function(e) {
                        n.checkSubscribeStatus()
                    }
                })
            },
            showSubscribeModal: function() {
                var e = this;
                this.subscribeModalShow = !0,
                window.screen.width > 800 ? (p.showModal(d),
                $(".close").on("click", function() {
                    e.skipPage()
                }),
                this.pollSubscribeStatus()) : (p.showModal(u),
                $(".close").on("click", function() {
                    e.skipPage()
                }),
                $(".follow-wx-dialog-m .button.cancel").on("click", function() {
                    e.skipPage()
                }),
                $(".follow-wx-dialog-m .button.submit").on("click", function() {
                    window.location.href = "http://wx.fa.xfz.cn"
                }))
            },
            skipPage: function() {
                return sessionStorage.courseback ? (window.location.href = sessionStorage.courseback,
                void sessionStorage.removeItem("courseback")) : void (window.location.href = "http://www.xfz.cn/apply/success/")
            },
            checkSubscribeStatus: function() {
                var e = this;
                $.ajax({
                    url: "/api/website/is-subscribe/" + e.orderId + "/",
                    type: "get",
                    success: function(n) {
                        200 == n.code && (["live", "video", "series"].indexOf(n.data.product_type) == -1 || n.data.subscribe ? e.skipPage() : e.subscribeModalShow || e.showSubscribeModal())
                    }
                })
            },
            pollSubscribeStatus: function() {
                var e = this
                  , n = 12e4
                  , t = 0
                  , i = setInterval(function() {
                    e.checkSubscribeStatus(),
                    t += 2e3,
                    t >= n && clearInterval(i)
                }, 2e3)
            }
        };
        e.exports = h
    },
    76: function(e, n) {
        e.exports = '<li>\n    <div class="title">商品名称</div>\n    <div class="content">\n        <% if (item.photo) { %>\n        <div class="photo"><img src="<%= item.photo %>"></div>\n        <% } %>\n        <div class="right-wrapper">\n            <div class="name-price">\n                <div class="name"><%= item.name %></div>\n                <div class="count">\n                    <span class="remove">-</span>\n                    <span class="num">1</span>\n                    <span class="add">+</span>\n                </div>\n                <% if (item.fee) { %>\n                <div class="unit-price">单价：¥<span class="num"><%= item.fee %></span></div>\n                <% } else { %>\n                <div class="unit-price">单价：<span class="num">免费</span></div>\n                <% } %>\n            </div>\n            <div class="desc"><%= item.intro %></div>\n            <div class="price"><% if (item.fee) { %>¥<% } %><span class="num"></span></div>\n        </div>\n    </div>\n</li>\n'
    },
    77: function(e, n) {
        e.exports = '<div class="success-pay-confirm-dialog dialog">\n    <div class="success-pay-confirm-close close"></div>\n    <div class="content"><img src="/static/build/images/success-right.png" alt=""><span>支付成功</span></div>\n    <div class="tips-word">正在跳转......</div>\n</div>'
    },
    78: function(e, n) {
        e.exports = '<div class="public-transfer-dialog dialog">\n    <!-- <div class="public-transfer-dialog-close close"></div> -->\n    <div class="content">\n        <div class="title">转账账户信息</div>\n        <div class="pc-main">\n            <p class="info">\n                <span class="head">收款银行：</span>\n                <span class="text">招商银行北京京广桥支行</span>\n            </p>\n            <p class="info">\n                <span class="head">收款人：</span>\n                <span class="text">北京子木投资顾问有限公司</span>\n            </p>\n            <p class="info">\n                <span class="head">收款账号：</span>\n                <span class="text">1109 1724 7510 201</span>\n            </p>\n            <p class="info">\n                <span class="head head-more">转账备注：</span>\n                <span class="text text-more">购买商品名称，支付人姓名、手机号；<br>如为代付，也注明消费人姓名和手机号。</span>\n            </p>\n            <p class="tips">\n                为方便核对付款信息，转账时请一定添加转账备注。小饭桌工作人员会在1个工作日内确认收款，确认后会有短信提醒。\n            </p>\n        </div>\n        <div class="m-main">\n            <p class="i-title">收款银行：</p>\n            <p class="info">招商银行北京京广桥支行</p>\n            <p class="i-title">收款人：</span>\n            <p class="info">北京子木投资顾问有限公司</p>\n            <p class="i-title">收款账号：</p>\n            <p class="info">1109 1724 7510 201</p>\n            <p class="i-title">转账备注：</p>\n            <p class="info">购买商品名称，支付人姓名、手机号；如为代付，也注明消费人姓名和手机号。</p>\n            <p class="tips">\n                为方便核对付款信息，转账时请一定添加转账备注。小饭桌工作人员会在1个工作日内确认收款，确认后会有短信提醒。\n            </p>\n        </div>\n    </div>\n    <div class="sure-button">\n        <div class="button confirm">我已转账支付</div>\n        <div class="button change">更改付款方式</div>\n    </div>\n</div>';
    },
    79: function(e, n) {
        e.exports = '<div class="follow-wx-dialog-pc dialog">\n    <div class="close"></div>\n    <div class="title">关注小饭桌创业课堂服务号</div>\n    <div class="desc">获取新课程提醒，领取课程优惠</div>\n    <div class="qrcode">\n        <img src="/static/build/images/wx-qrcode.jpg">\n    </div>\n</div>'
    },
    80: function(e, n) {
        e.exports = '<div class="follow-wx-dialog-m dialog">\n    <div class="close"></div>\n    <div class="title">关注小饭桌创业课堂服务号</div>\n    <div class="desc">获取新课程提醒，领取课程优惠</div>\n    <div class="qrcode">\n        <img src="/static/build/images/wx-qrcode.jpg">\n        <span>请长按二维码关注</span>\n    </div>\n</div>'
    }
});
